!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wangeditor/editor")):"function"==typeof define&&define.amd?define(["@wangeditor/editor"],t):"object"==typeof exports?exports.WangEditorPluginUml=t(require("@wangeditor/editor")):e.WangEditorPluginUml=t(e.wangEditor)}(self,(function(e){return function(){"use strict";var t={857:function(t){t.exports=e}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){o.r(r),o.d(r,{default:function(){return g}});var e=o(857);(0,e.i18nAddResources)("en",{uml:"UML"}),(0,e.i18nAddResources)("zh-CN",{uml:"编辑"});function t(e,t,n,o,r){return{sel:e,data:t,children:n,text:o,elm:r,key:void 0===t?void 0:t.key}}const n=Array.isArray;function i(e){return"string"==typeof e||"number"==typeof e||e instanceof String||e instanceof Number}function l(e,t,n){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==t)for(let e=0;e<t.length;++e){const n=t[e];if("string"==typeof n)continue;const o=n.data;void 0!==o&&l(o,n.children,n.sel)}}function u(e,o,r){let u,c,d,s={};if(void 0!==r?(null!==o&&(s=o),n(r)?u=r:i(r)?c=r.toString():r&&r.sel&&(u=[r])):null!=o&&(n(o)?u=o:i(o)?c=o.toString():o&&o.sel?u=[o]:s=o),void 0!==u)for(d=0;d<u.length;++d)i(u[d])&&(u[d]=t(void 0,void 0,void 0,u[d],void 0));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||l(s,u,e),t(e,s,u,c,void 0)}var c={type:"uml",renderElem:function(t,n,o){var r=o.isDisabled(),i=e.DomEditor.isNodeSelected(o,t),l=t,c=l.src,d=void 0===c?"":c,s=l.xml,a=void 0===s?"":s;return u("span",{props:{contentEditable:!1},style:{display:"inline-block",marginLeft:"3px",marginRight:"3px",border:i&&!r?"2px solid var(--w-e-textarea-selected-border-color)":"2px solid transparent",borderRadius:"3px",padding:"0 3px",cursor:r?"pointer":"inherit"},on:{click:function(){var e;r&&a&&(e=o,"currentBlock",e.currentBlock).tool.api.events.emit("mxgraph-open",{isUpdate:!0,xml:a,show:!0})}}},[u("img",{props:{src:d},style:{}})])}},d=c,s={type:"uml",elemToHtml:function(e,t){var n=e,o=n.xml,r=void 0===o?"":o,i=n.src,l=void 0===i?"":i,u=encodeURIComponent(r);return'<a data-w-e-type="uml" data-w-e-is-void data-w-e-is-inline data-xml="'.concat(u,'" data-src="').concat(l,'" ></a>')}},a=s,p={selector:'a[data-w-e-type="uml"]',parseElemHtml:function(e,t,n){var o=e.getAttribute("data-xml")||"";return{type:"uml",xml:decodeURIComponent(o),src:e.getAttribute("data-src")||"",children:[{text:""}]}}},f=function(){function t(){this.title=(0,e.t)("uml"),this.iconSvg='<svg t="1695797780258" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5167" id="mx_n_1695797780259" width="200" height="200"><path d="M780.007475 65.267493 243.903497 65.267493c-98.642624 0-178.61298 80.013335-178.61298 178.615027l0 536.102954c0 98.774631 79.969333 178.744987 178.61298 178.744987l536.105001 0c98.728582 0 178.700985-79.969333 178.700985-178.744987L958.709483 243.88252C958.70846 145.280828 878.73708 65.267493 780.007475 65.267493zM869.44546 735.353974c0 73.994248-60.119239 134.069485-134.113487 134.069485L288.667004 869.423459c-74.082252 0-134.071532-60.075237-134.071532-134.069485l0-89.307002 178.744987-178.744987 178.615027 223.37751 268.051989-268.050965-89.307002-44.6315L511.955486 556.608987 333.340459 333.319481 154.595472 511.932462 154.595472 288.555975c0-73.992201 59.989279-133.981481 134.071532-133.981481l446.664969 0c73.994248 0 134.113487 59.989279 134.113487 133.981481L869.44546 735.353974z" p-id="5168"></path></svg>',this.tag="button"}return t.prototype.getValue=function(e){return""},t.prototype.isActive=function(e){return!1},t.prototype.exec=function(e,t){var n;this.getMenuConfig(e),"tool"in e&&(n=e,"tool",n.tool).api.events.emit("mxgraph-open",{xml:"",isUpdate:!1,show:!0})},t.prototype.isDisabled=function(t){var n=t.selection;if(null==n)return!0;if(e.SlateRange.isExpanded(n))return!0;var o=e.DomEditor.getSelectedElems(t);return!!o.some((function(e){return t.isVoid(e)}))||!!o.some((function(t){return"pre"===e.DomEditor.getNodeType(t)}))},t.prototype.getMenuConfig=function(e){return e.getMenuConfig("insertUML")},t}(),m=function(){function t(){this.title=(0,e.t)("uml"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M864 0a160 160 0 0 1 128 256l-64 64-224-224 64-64c26.752-20.096 59.968-32 96-32zM64 736l-64 288 288-64 592-592-224-224L64 736z m651.584-372.416l-448 448-55.168-55.168 448-448 55.168 55.168z"></path></svg>',this.tag="button",this.alwaysEnable=!0}return t.prototype.getValue=function(e){var t=this.getSelectedElem(e);return null==t?"":t.xml},t.prototype.isActive=function(e){return!1},t.prototype.exec=function(e,t){var n;t&&"string"==typeof t&&"tool"in e&&(n=e,"tool",n.tool).api.events.emit("mxgraph-open",{isUpdate:!0,xml:t,show:!0})},t.prototype.isDisabled=function(t){var n=t.selection;return null==n||!!e.SlateRange.isExpanded(n)||null==this.getSelectedElem(t)},t.prototype.getSelectedElem=function(t){var n=e.DomEditor.getSelectedNodeByType(t,"uml");return null==n?null:n},t}(),g={editorPlugin:function(t){var n=t.isInline,o=t.isVoid,r=t;return r.isInline=function(t){return"uml"===e.DomEditor.getNodeType(t)||n(t)},r.isVoid=function(t){return"uml"===e.DomEditor.getNodeType(t)||o(t)},r},renderElems:[d],elemsToHtml:[a],parseElemsHtml:[p],menus:[{key:"insertUML",factory:function(){return new f},config:{onInsertedUml:function(e){}}},{key:"editUML",factory:function(){return new m},config:{onInsertedUml:function(e){}}}]}}(),r}()}));
//# sourceMappingURL=index.js.map